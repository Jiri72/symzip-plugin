apply plugin: 'base'

def parentBuildDir= file("../../../../build")
buildDir= file("$parentBuildDir/tmp/test-build")

buildscript {
    repositories {
        flatDir ( dirs: "../../../../build/tmp/libs" )
        mavenCentral()
    }
    dependencies {
        classpath("org.paleozogt:commons-compress-plugin:")
        classpath 'org.apache.commons:commons-compress:1.9'
        classpath 'org.apache.commons:commons-io:1.3.2'
    }
}
import org.paleozogt.gradle.compress.*;

task testGradleZip(type:Zip) {
    from file("$parentBuildDir/testData")
    archiveName "gradle-zip.zip"
}

task testZip(type:CommonsZipTask) {
    from file("$parentBuildDir/testData")
    archiveName "commons-zip.zip"
}

task testGradleUnzip(type:Copy, dependsOn:testGradleZip) {
}

task testUnzip(type:CommonsUnzipTask, dependsOn:testZip) {
}

build.dependsOn([testUnzip,testGradleUnzip])
